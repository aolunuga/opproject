<prototype name="OpObject" instance-class="onepoint.persistence.OpObject">
	<!-- ID is added hard-coded in OpSource -->
	<field name="Created" type="Timestamp" mandatory="true" indexed="true" column="Created"/>
	<field name="Modified" type="Timestamp" column="Modified"/>
  <relationship name="Permissions" type="OpPermission" collection-type="Set" back-relationship="Object" inverse="true" cascade="delete"/>
	<relationship name="Locks" type="OpLock" collection-type="Set" back-relationship="Target" inverse="true" cascade="delete"/>
	<relationship name="DynamicResources" type="OpDynamicResource" collection-type="Set" back-relationship="Object" inverse="true" cascade="delete"/>
<!-- shortcut object directly references the first custom value page
     fixme (dfreis): needed recursive="true" to prevent loop within backup manager, needs this until backup manager is able to handle circular references!  
-->
  <relationship name="CustomValuePage" type="OpCustomValuePage" recursive="true" fetch="join" />
  <relationship name="CustomValuePages" type="OpCustomValuePage" collection-type="Set" back-relationship="Object" inverse="true" cascade="delete"/>

</prototype>
