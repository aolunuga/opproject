<form id="ProjectCostsForm"
      layout="border" resource-map-ref="project_costs.project_costs"
      provider-class="onepoint.project.team.modules.project_costs.forms.OpProjectCostsAdvancedFormProvider"
      script="/team/modules/project_costs/scripts/project_costs.jes"
      extends="/modules/project_costs/forms/project_costs.oxf.xml">

   <data-set id="ChartCostSet"/>
   <data-set id="ColorsCostSet"/>
   <data-set id="OutlineLevels">
      <data-row string-value="0['{$TopLevel}']"/>
      <data-row string-value="1['{$Level2}']"/>
      <data-row string-value="2['{$Level3}']"/>
      <data-row string-value="3['{$Level4}']"/>
      <data-row string-value="4['{$Level5}']"/>
      <data-row string-value="-1['{$AllLevels}']"/>
   </data-set>
   <pop-up-menu id="CostsChartPopupMenu">
      <pop-up-item text="{$SaveImage}" on-item-selected="saveChartImage"/>
   </pop-up-menu>

   <panel x="1" layout="border" style-ref="compact-panel-default" parent-id="ToolsPanel">
      <panel layout="table" flexible="false">
         <label x="0" width="2" text="{$OutlineLevelFilter}"/>
         <choice-field x="2" width="3" id="OutlineLevelChooser" data-set-ref="OutlineLevels"
                       on-value-changed="outlineLevelChanged" stateful="true" selected-index="0" enabled="false"/>
      </panel>
   </panel>
   
   <tab layout="border" text="{$BaseCostsDistribution}" id="BaseCostsDistributionTab" parent-id="PlanningCostsBox">
      <bar-chart-box id="CostBarChart" data-set-ref="ChartCostSet" value-type="Double" color-data-set-ref="ColorsCostSet" 
                     data-unit="1000" data-caption-column-index="0" data-column-index="1" grid-lines="vertical"
                     pop-up-menu-ref="CostsChartPopupMenu" decimals="2" />
      <color-legend-box x="1" id="CostBarLegend" color-data-set-ref="ColorsCostSet"/>
   </tab>
</form>
