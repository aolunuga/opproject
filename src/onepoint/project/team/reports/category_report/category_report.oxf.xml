<form layout="border"
      resource-map-ref="report.category_report"
      script="category_report.jes"
      provider-class="onepoint.project.team.reports.category_report.OpCategoryReportFormProvider"
      on-show="prepareForm">

   <data-set id="ResultSet"/>
   <data-field id="PrintTitle" string-value="{$PrintTitle}"/>
   <data-field id="InvalidStartField" text="{$InvalidStart}"/>
   <data-field id="InvalidFinishField" text="{$InvalidFinish}"/>

   <pop-up-menu id="ResultTablePopupMenu">
       <pop-up-item text="{$SaveCSV}" on-item-selected="saveTableCSV"/>
       <pop-up-item text="{$SaveImage}" on-item-selected="saveTableImage"/>
   </pop-up-menu>

   <panel layout="border">
      <panel y="-1" layout="table" flexible="true" style-ref="table-panel-default">
         <label x="0" y="0" width="10" id="ErrorLabel" visible="false" style-ref="label-error-default"/>
         <label x="0" y="1" width="2" text="{$Start}"/> <date-field x="2" y="1" width="3" id="StartField"/>
         <label x="5" y="1" width="2" text="{$Finish}"/> <date-field x="7" y="1" width="3" id="FinishField"/>
      </panel>
      <table-box id="ResultTable" data-set-ref="ResultSet" width="3" flexible="true" pop-up-menu-ref="ResultTablePopupMenu">
         <table-column width="220" text="{$CategoryName}"
                       data-column-index="0" value-type="String"/>
         <table-column width="65" text="{$ActualEffort}" value-type="Double"
                       data-column-index="1"/>
         <table-column width="65" text="{$PersonnelCosts}" value-type="Double"
                       data-column-index="2"/>
         <table-column width="65" text="{$TravelCosts}" value-type="Double"
                       data-column-index="3"/>
         <table-column width="65" text="{$MaterialCosts}" value-type="Double"
                       data-column-index="4"/>
         <table-column width="65" text="{$ExternalCosts}" value-type="Double"
                       data-column-index="5"/>
         <table-column width="65" text="{$MiscellaneousCosts}" value-type="Double"
                       data-column-index="6"/>
      </table-box>
   </panel>
</form>
