<form id="ProjectResourcesForm" layout="border"
      resource-map-ref="project_resources.project_resources"
      provider-class="onepoint.project.team.modules.project_resources.forms.OpProjectResourcesAdvancedFormProvider" 
      script="/team/modules/project_resources/scripts/project_resources.jes"
      extends="/modules/project_resources/forms/project_resources.oxf.xml">

   <!-- The outline level filters -->
   <data-set id="ResourceColorSet"/>
   <data-set id="OutlineLevels">
      <data-row string-value="0['{$TopLevel}']"/>
      <data-row string-value="1['{$Level2}']"/>
      <data-row string-value="2['{$Level3}']"/>
      <data-row string-value="3['{$Level4}']"/>
      <data-row string-value="4['{$Level5}']"/>
      <data-row string-value="-1['{$AllLevels}']"/>
   </data-set>
   <panel x="1" layout="border" style-ref="compact-panel-default" id="FilterPanel" parent-id="ToolsPanel">
     <panel layout="table" flexible="false">
      <label x="0" width="2" text="{$OutlineLevelFilter}"/>
      <choice-field x="2" width="3" id="OutlineLevelChooser" data-set-ref="OutlineLevels"
                  on-value-changed="outlineLevelChanged" stateful="true" selected-index="0" enabled="false"/>
    </panel>
   </panel>

   <!-- The resource distribution chart and pop-up menu -->
   <pop-up-menu id="ResourceChartPopupMenu">
      <pop-up-item text="{$SaveImage}" on-item-selected="saveChartImage"/>
   </pop-up-menu>
   <data-set id="ChartResourceSet"/>
   <tab layout="border" text="{$BaseResourcesDistribution}" id="BaseResourcesDistributionTab" parent-id="ProjectResourcesTabBox">
      <bar-chart-box id="ResourceBarChart" data-set-ref="ChartResourceSet" value-type="Double"
                     color-data-set-ref="ResourceColorSet"
                     data-caption-column-index="0" data-column-index="1" grid-lines="vertical"
                     sidebar-width="120" pop-up-menu-ref="ResourceChartPopupMenu"/>
      <color-legend-box id="ResourceLegend" x="1" color-data-set-ref="ResourceColorSet"/>
   </tab>

</form>
