<form layout="border" width="400" height="240" text="{$NewPortfolio}" start-focus-ref="Name" default-button-ref="okButton" resource-map-ref="project.NewPortfolio" provider-class="onepoint.project.modules.project.forms.OpNewPortfolioFormProvider" script="/modules/project/scripts/new_portfolio.jes">

   <data-field id="SuperPortfolioID"/>
   <data-field id="SuperPortfolioIndexField" int-value="-1"/>
	
   <panel y="0" layout="border">
   <label y="-1" id="ErrorLabel" visible="false" style-ref="label-error-default"/>

   <tab-box>

   <tab text="{$General}" layout="table" id="GeneralTab">
      <label x="0" y="0" width="2" text="{$Name}" style-ref="label-emphasized-default"/><text-field x="2" y="0" width="3" id="Name"/>
      <label x="0" y="1" width="2" text="{$Description}"/><text-box x="2" y="1" width="3" id="Description"/>
   </tab>

   <tab text="{$Permissions}" layout="border" id="PermissionsTab">
      <data-set id="PerimssionIconSet">
         <data-row icon="/modules/user/icons/group.png"/>
         <data-row icon="/modules/user/icons/user.png"/>
         <data-row icon="/modules/user/icons/role.png"/>
      </data-set>
      <data-set id="PermissionSet"/>
      <list-box id="PermissionTree" tree="true" data-set-ref="PermissionSet" icon-set-ref="PerimssionIconSet" flexible="true"/>
      <panel id="PermissionToolPanel" y="1" layout="flow" direction="east">
         <icon-button icon-type="PlusSign" on-button-pressed="addSubject"/>
         <icon-button icon-type="MinusSign" on-button-pressed="removeSubject"/>
         <icon-button icon-type="NorthArrow" on-button-pressed="moveSubjectUp"/>
         <icon-button icon-type="SouthArrow" on-button-pressed="moveSubjectDown"/>
      </panel>
   </tab>
   
   </tab-box>

   <panel y="1" layout="flow" direction="west">
	  <panel layout="border">
      <button x="0" id="okButton" text="{$OK}" on-button-pressed="ok"/>
      <button x="1" id="Cancel" text="{$Cancel}" on-button-pressed="cancel"/>
	  </panel>
   </panel>
	
   </panel>
	
</form>
<!-- idea of resources tab, but only allows to remove resources; edit only -->
